import requests
import base64

# Your Spotify app credentials
CLIENT_ID = '5cea519d0b1446de97f8c54afed8497d'
CLIENT_SECRET = '305c6e938a824fab9683ea78c7b2ae44'

# Encode client ID and secret as base64
client_creds = f"{CLIENT_ID}:{CLIENT_SECRET}"
client_creds_b64 = base64.b64encode(client_creds.encode())

# Prepare request to get token
token_url = "https://accounts.spotify.com/api/token"
headers = {
    "Authorization": f"Basic {client_creds_b64.decode()}"
}
data = {
    "grant_type": "client_credentials"
}

response = requests.post(token_url, headers=headers, data=data)

if response.status_code == 200:
    token_info = response.json()
    access_token = token_info['access_token']
    expires_in = token_info['expires_in']
    print("Access token:", access_token)
    print(f"Expires in: {expires_in} seconds")
else:
    print(f"Failed to get token: {response.status_code}")
    print(response.text)
